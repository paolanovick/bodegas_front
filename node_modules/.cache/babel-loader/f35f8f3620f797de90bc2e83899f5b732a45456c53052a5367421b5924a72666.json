{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO\\\\Desktop\\\\fullStack-vinci\\\\gestion-bebidas\\\\src\\\\pages\\\\VinosPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { obtenerTodosLosVinos, eliminarVino, obtenerVinoPorId } from \"../services/vinoService\";\nimport VinoList from \"../components/VinoList\";\nimport VinoDetail from \"..components/VinoDetail\";\nimport AgregarVinoForm from \"../components/AgregarVinoForm\";\nimport EditarVinoForm from \"../components/EditarVinoForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VinosPage = () => {\n  _s();\n  const [vinos, setVinos] = useState([]);\n  const [selectedVino, setSelectedVino] = useState(null);\n  const [editandoVinoId, setEditandoVinoId] = useState(null);\n\n  // Cargar todos los vinos al montar el componente\n  useEffect(() => {\n    const cargarVinos = async () => {\n      try {\n        const data = await obtenerTodosLosVinos();\n        setVinos(data);\n      } catch (error) {\n        console.error(\"Error al obtener los vinos\", error);\n      }\n    };\n    cargarVinos();\n  }, []);\n\n  // Manejar la eliminación de un vino\n  const handleEliminarVino = async id => {\n    try {\n      await eliminarVino(id);\n      setVinos(prevVinos => prevVinos.filter(vino => vino._id !== id)); // Actualizar la lista de vinos\n      alert(\"Vino eliminado correctamente\");\n    } catch (error) {\n      console.error(\"Error al eliminar el vino\", error);\n      alert(\"Hubo un error al eliminar el vino\");\n    }\n  };\n\n  // Manejar la selección de un vino para ver detalles\n  const handleSelectVino = async id => {\n    try {\n      const vino = await obtenerVinoPorId(id);\n      setSelectedVino(vino); // Guardar el vino seleccionado en el estado\n    } catch (error) {\n      console.error(\"Error al obtener los detalles del vino\", error);\n      alert(\"Error al cargar los detalles del vino\");\n    }\n  };\n\n  // Manejar la edición de un vino\n  const handleEditVino = id => {\n    setEditandoVinoId(id); // Configurar el vino que se va a editar\n  };\n\n  // Manejar la actualización de un vino\n  const handleVinoActualizado = vinoActualizado => {\n    setVinos(prevVinos => prevVinos.map(vino => vino._id === vinoActualizado._id ? vinoActualizado : vino));\n    setEditandoVinoId(null); // Cerrar el formulario de edición\n  };\n\n  // Manejar la cancelación de la edición\n  const handleCancelEdit = () => {\n    setEditandoVinoId(null); // Cerrar el formulario de edición\n  };\n\n  // Manejar la adición de un vino\n  const handleAgregarVino = vinoAgregado => {\n    setVinos([...vinos, vinoAgregado]); // Agregar el nuevo vino a la lista\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Gesti\\xF3n de Vinos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), !editandoVinoId && /*#__PURE__*/_jsxDEV(AgregarVinoForm, {\n      onVinoAgregado: handleAgregarVino\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 27\n    }, this), /*#__PURE__*/_jsxDEV(VinoList, {\n      vinos: vinos,\n      onDeleteVino: handleEliminarVino,\n      onSelectVino: handleSelectVino,\n      onEditVino: handleEditVino\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), editandoVinoId && /*#__PURE__*/_jsxDEV(EditarVinoForm, {\n      vinoId: editandoVinoId,\n      onVinoActualizado: handleVinoActualizado,\n      onCancel: handleCancelEdit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }, this), selectedVino && /*#__PURE__*/_jsxDEV(VinoDetail, {\n      vino: selectedVino\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 24\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n_s(VinosPage, \"F/z/MSbVgF5YERf4npYuWp+7EEw=\");\n_c = VinosPage;\nexport default VinosPage;\nvar _c;\n$RefreshReg$(_c, \"VinosPage\");","map":{"version":3,"names":["React","useState","useEffect","obtenerTodosLosVinos","eliminarVino","obtenerVinoPorId","VinoList","VinoDetail","AgregarVinoForm","EditarVinoForm","jsxDEV","_jsxDEV","VinosPage","_s","vinos","setVinos","selectedVino","setSelectedVino","editandoVinoId","setEditandoVinoId","cargarVinos","data","error","console","handleEliminarVino","id","prevVinos","filter","vino","_id","alert","handleSelectVino","handleEditVino","handleVinoActualizado","vinoActualizado","map","handleCancelEdit","handleAgregarVino","vinoAgregado","children","fileName","_jsxFileName","lineNumber","columnNumber","onVinoAgregado","onDeleteVino","onSelectVino","onEditVino","vinoId","onVinoActualizado","onCancel","_c","$RefreshReg$"],"sources":["C:/Users/LENOVO/Desktop/fullStack-vinci/gestion-bebidas/src/pages/VinosPage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { obtenerTodosLosVinos, eliminarVino, obtenerVinoPorId } from \"../services/vinoService\";\r\nimport VinoList from \"../components/VinoList\";\r\nimport VinoDetail from \"..components/VinoDetail\";\r\nimport AgregarVinoForm from \"../components/AgregarVinoForm\";\r\nimport EditarVinoForm from \"../components/EditarVinoForm\";\r\n\r\nconst VinosPage = () => {\r\n  const [vinos, setVinos] = useState([]);\r\n  const [selectedVino, setSelectedVino] = useState(null);\r\n  const [editandoVinoId, setEditandoVinoId] = useState(null);\r\n\r\n  // Cargar todos los vinos al montar el componente\r\n  useEffect(() => {\r\n    const cargarVinos = async () => {\r\n      try {\r\n        const data = await obtenerTodosLosVinos();\r\n        setVinos(data);\r\n      } catch (error) {\r\n        console.error(\"Error al obtener los vinos\", error);\r\n      }\r\n    };\r\n\r\n    cargarVinos();\r\n  }, []);\r\n\r\n  // Manejar la eliminación de un vino\r\n  const handleEliminarVino = async (id) => {\r\n    try {\r\n      await eliminarVino(id);\r\n      setVinos((prevVinos) => prevVinos.filter((vino) => vino._id !== id)); // Actualizar la lista de vinos\r\n      alert(\"Vino eliminado correctamente\");\r\n    } catch (error) {\r\n      console.error(\"Error al eliminar el vino\", error);\r\n      alert(\"Hubo un error al eliminar el vino\");\r\n    }\r\n  };\r\n\r\n  // Manejar la selección de un vino para ver detalles\r\n  const handleSelectVino = async (id) => {\r\n    try {\r\n      const vino = await obtenerVinoPorId(id);\r\n      setSelectedVino(vino); // Guardar el vino seleccionado en el estado\r\n    } catch (error) {\r\n      console.error(\"Error al obtener los detalles del vino\", error);\r\n      alert(\"Error al cargar los detalles del vino\");\r\n    }\r\n  };\r\n\r\n  // Manejar la edición de un vino\r\n  const handleEditVino = (id) => {\r\n    setEditandoVinoId(id);  // Configurar el vino que se va a editar\r\n  };\r\n\r\n  // Manejar la actualización de un vino\r\n  const handleVinoActualizado = (vinoActualizado) => {\r\n    setVinos((prevVinos) =>\r\n      prevVinos.map((vino) => (vino._id === vinoActualizado._id ? vinoActualizado : vino))\r\n    );\r\n    setEditandoVinoId(null);  // Cerrar el formulario de edición\r\n  };\r\n\r\n  // Manejar la cancelación de la edición\r\n  const handleCancelEdit = () => {\r\n    setEditandoVinoId(null);  // Cerrar el formulario de edición\r\n  };\r\n\r\n  // Manejar la adición de un vino\r\n  const handleAgregarVino = (vinoAgregado) => {\r\n    setVinos([...vinos, vinoAgregado]); // Agregar el nuevo vino a la lista\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Gestión de Vinos</h1>\r\n\r\n      {/* Formulario para agregar un nuevo vino */}\r\n      {!editandoVinoId && <AgregarVinoForm onVinoAgregado={handleAgregarVino} />}\r\n\r\n      {/* Lista de vinos */}\r\n      <VinoList\r\n        vinos={vinos}\r\n        onDeleteVino={handleEliminarVino}\r\n        onSelectVino={handleSelectVino}\r\n        onEditVino={handleEditVino}\r\n      />\r\n\r\n      {/* Formulario de edición de vino */}\r\n      {editandoVinoId && (\r\n        <EditarVinoForm\r\n          vinoId={editandoVinoId}\r\n          onVinoActualizado={handleVinoActualizado}\r\n          onCancel={handleCancelEdit}\r\n        />\r\n      )}\r\n\r\n      {/* Detalles del vino */}\r\n      {selectedVino && <VinoDetail vino={selectedVino} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VinosPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}